(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3057:(e,t,o)=>{Promise.resolve().then(o.bind(o,8669))},8669:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var a=o(5155),l=o(2115);let r=()=>new Promise((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{let o=t.coords.latitude,a=t.coords.longitude;e({lat:o,lon:a}),console.log(o,a)},e=>{console.error("Error getting location:",e),t("42.369898,-74.868172")}):t({lat:42.369898,lon:-74.868172})}),c=async(e,t)=>{console.log("Received coordinates:",{lat:e,lon:t});let o="d5d0fa4e297d8092a77af8c74ccdb73e";if(console.log(o),!o)throw Error("OpenWeather API key is missing");let a="https://api.openweathermap.org/data/3.0/onecall/overview?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(o,"&units=imperial");console.log(a);try{let e=await fetch(a);if(!e.ok)throw Error("Weather data fetch failed");let{weather_overview:t}=await e.json();return console.log(t),t}catch(e){console.error(e)}},n=()=>{let[e,t]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let{lat:e,lon:o}=await r();console.log(e),console.log("fetchingweatherdata");let a=await c(e,o);t(a)}catch(e){t("Unable to fetch weather data")}})()},[]),(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center w-full h-screen gap-4 text-center",children:[(0,a.jsx)("h1",{className:"text-4xl",children:"What's the weather today?"}),(0,a.jsx)("h1",{id:"weather",className:"text-4xl max-w-lg",children:e||"Loading..."})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(3057)),_N_E=e.O()}]);